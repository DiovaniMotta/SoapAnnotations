package org.soap.diovani.motta.transactions;

import javax.xml.bind.PropertyException;

import org.soap.diovani.motta.annotations.message.MessageSoap;
import org.soap.diovani.motta.manager.SessionCache;

/**
 * 
 * @author Diovani Bernardi da Motta
 * Data: 15/05/2015
 * Classe responsável por efetuar as transacoes Soap com o servidor
 */
public class Transactions  {
	
	private MessageSoap messageSoap = new MessageSoap();
	
	/**
	 * Método responsável por criar um objeto MessagemSoap que será enviado para o servidor
	 * @param url a url do web service
	 */
	public void create(String url){
		if((url == null) || (url.isEmpty())){
			throw new NullPointerException("Informe a url para conexão com o web service.");
		}
		messageSoap.URL = url;
	}
	
	/**
	 * Método responsável por preparar um objeto que será enviado para o servidor
	 * @param object
	 * @param service
	 * @throws PropertyException 
	 */
	public void post(Object object,String service) throws PropertyException {
		if(object == null){
			throw new NullPointerException("Não é possivel serializar um objeto nulo.");
		}
		if((service == null) || (service.isEmpty())){
			throw new NullPointerException("Informe o servico requisitado no web service.");
		}
		// capturo a classe do objeto repassado por parametro
		Class<?> kclasse = object.getClass();
		SessionCache.annotations(kclasse);
		
	}

}
